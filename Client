import socket
import selectors
selector = selectors.DefaultSelector()

HOST = "127.0.0.1"
PORT = 5005


def main():
    c_socket = socket.socket()
    c_socket.connect((HOST, PORT))
    c_socket.setblocking(False)
    inputs(c_socket, selector)

def inputs(c_socket, selector):
    try:
        msg = ""
        while msg != "quit":
            print("Options: \n 1. Find the correlation between movie budget and profit"
                  "\n 2. Find the .... \n 3. Find the .... \n Quit to stop" )
            msg = input("What do you want to do? \n (Please type 1,2,3 or quit)")
            if msg == '1':
                c_socket.send(msg.encode())
                pass
            elif msg == '2':
                c_socket.send(msg.encode())
                pass
            elif msg == '3':
                c_socket.send(msg.encode())
                pass
            elif msg == 'quit' or 'Quit':
                c_socket.send(msg.encode())
                close_conn(c_socket)
            else:
                print("Invalid Command")
    except IOError as err:
        print("Error found: err")
        close_conn(c_socket)
    except OSError as err:
        print("Error found: err")
        close_conn(c_socket)


def close_conn(c_socket):
    print("Closing Connection")
    c_socket.send("quit".encode())
    c_socket.close()


if __name__ == '__main__':
    main()
